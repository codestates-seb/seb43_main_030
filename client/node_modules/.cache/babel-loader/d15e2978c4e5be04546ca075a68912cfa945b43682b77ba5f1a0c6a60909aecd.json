{"ast":null,"code":"import _slicedToArray from\"/Users/jieun/Desktop/main-project/idle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import Parser from'html-react-parser';import cls from'../../utils/tailwind';import dateCalculate from'../dateCalculate';import{ReactComponent as View}from'../../images/view.svg';import{ReactComponent as PerpettOff}from'../../images/perpett-off.svg';import profile from'../../images/profile.png';import imageNull from'../../images/imageNull.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListCommunity(props){var post=props.post,onClick=props.onClick,className=props.className;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useParams=useParams(),id=_useParams.id;// 썸네일용\nvar thumImage=post.content;var regex=/<img src=\"(.*?)\">/i;var matches=thumImage.match(regex);var thumbnail=matches?matches[1]:null;useEffect(function(){// 게시물 미리보기 텍스트\nvar regex=/<p>(.*?)<\\/p>/gi;var matches=post.content.match(regex);var extractedText='';if(matches){extractedText=matches.map(function(match){var text=match.replace(/<\\/?p>/g,'');var textWithoutImg=text.replace(/<img.*?>/,'');return textWithoutImg.trim();}).join(' ');}setContent(extractedText);},[setContent,post.content]);return/*#__PURE__*/_jsxs(\"li\",{className:\"flex w-full items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-profile mr-24 h-108 w-108 onlyMobile:mr-15 onlyMobile:h-96 onlyMobile:w-96 onlyMini:h-56 onlyMini:w-56\",children:thumbnail?/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"img\"}):/*#__PURE__*/_jsx(\"img\",{src:imageNull,alt:\"\\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-30 w-[calc(100%-132px)] onlyMobile:w-[calc(100%-101px)] onlyMini:my-20 onlyMini:w-[calc(100%-71px)]\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/community/\".concat(id,\"/post/\").concat(post.postId),className:\"block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"list-title truncate\",children:post.title}),Parser(\"\\n          <p className=\\\"list-content mt-5 truncate text-max\\\">\\n            \".concat(content.replace(/(<([^>]+)>)/gi,''),\"\\n          </p>\\n          \"))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16 flex items-center justify-between onlyMini:mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-between flex onlyMini:flex-col \",children:[/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-profile-small\",children:post.profileImageUrl?/*#__PURE__*/_jsx(\"img\",{src:post.profileImageUrl,alt:\"img\"}):/*#__PURE__*/_jsx(\"img\",{src:profile,alt:\"defaultImage\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"after:content=[''] list-line onlyMini: relative shrink-0 pl-5 pr-12 text-14 font-bold text-black-900 onlyMobile:text-12 onlyMini:after:hidden\",children:post.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex onlyMini:hidden\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"list-gray-small flex items-center pr-12\",children:[/*#__PURE__*/_jsx(View,{width:\"16\",height:\"16\",className:\"mr-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4 onlyMobile:hidden\",children:\"\\uC870\\uD68C\"}),post.views]}),/*#__PURE__*/_jsxs(\"p\",{className:\"list-gray-small flex items-center\",children:[/*#__PURE__*/_jsx(PerpettOff,{width:\"16\",height:\"16\",className:\"mr-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4 onlyMobile:hidden\",children:\"\\uC88B\\uC544\\uC694\"}),' ',post.likeCount]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center text-14 text-black-350 onlyMobile:text-12\",children:[post.modified&&/*#__PURE__*/_jsx(\"span\",{className:\" mr-6 rounded-[4px] bg-black-025 px-4 py-2 text-10 text-black-350\",children:\"\\uC218\\uC815\"}),post.modifiedAt?dateCalculate(post.modifiedAt):dateCalculate(post.createdAt)]})]})]})]},post.postId);}export default ListCommunity;","map":{"version":3,"names":["useState","useEffect","Link","useParams","Parser","cls","dateCalculate","ReactComponent","View","PerpettOff","profile","imageNull","jsx","_jsx","jsxs","_jsxs","ListCommunity","props","post","onClick","className","_useState","_useState2","_slicedToArray","content","setContent","_useParams","id","thumImage","regex","matches","match","thumbnail","extractedText","map","text","replace","textWithoutImg","trim","join","children","src","alt","to","concat","postId","title","profileImageUrl","name","width","height","views","likeCount","modified","modifiedAt","createdAt"],"sources":["/Users/jieun/Desktop/main-project/idle/src/components/List/ListCommunity.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport cls from '../../utils/tailwind';\nimport dateCalculate from '../dateCalculate';\nimport { ReactComponent as View } from '../../images/view.svg';\nimport { ReactComponent as PerpettOff } from '../../images/perpett-off.svg';\nimport profile from '../../images/profile.png';\nimport imageNull from '../../images/imageNull.png';\n\nfunction ListCommunity(props) {\n  const { post, onClick, className } = props;\n  const [content, setContent] = useState('');\n  const { id } = useParams();\n\n  // 썸네일용\n  const thumImage = post.content;\n  const regex = /<img src=\"(.*?)\">/i;\n  const matches = thumImage.match(regex);\n  const thumbnail = matches ? matches[1] : null;\n\n  useEffect(() => {\n    // 게시물 미리보기 텍스트\n    const regex = /<p>(.*?)<\\/p>/gi;\n    const matches = post.content.match(regex);\n    let extractedText = '';\n\n    if (matches) {\n      extractedText = matches\n        .map(match => {\n          const text = match.replace(/<\\/?p>/g, '');\n          const textWithoutImg = text.replace(/<img.*?>/, '');\n          return textWithoutImg.trim();\n        })\n        .join(' ');\n    }\n\n    setContent(extractedText);\n  }, [setContent, post.content]);\n\n  return (\n    <li className=\"flex w-full items-center\" key={post.postId}>\n      <div className=\"user-profile mr-24 h-108 w-108 onlyMobile:mr-15 onlyMobile:h-96 onlyMobile:w-96 onlyMini:h-56 onlyMini:w-56\">\n        {thumbnail ? (\n          <img src={thumbnail} alt=\"img\" />\n        ) : (\n          <img src={imageNull} alt=\"이미지가 없습니다.\" />\n        )}\n      </div>\n      <div className=\"my-30 w-[calc(100%-132px)] onlyMobile:w-[calc(100%-101px)] onlyMini:my-20 onlyMini:w-[calc(100%-71px)]\">\n        <Link to={`/community/${id}/post/${post.postId}`} className=\"block\">\n          <p className=\"list-title truncate\">{post.title}</p>\n          {Parser(`\n          <p className=\"list-content mt-5 truncate text-max\">\n            ${content.replace(/(<([^>]+)>)/gi, '')}\n          </p>\n          `)}\n        </Link>\n        <div className=\"mt-16 flex items-center justify-between onlyMini:mt-8\">\n          <div className=\"flex-between flex onlyMini:flex-col \">\n            <div className={className}>\n              <div className=\"user-profile-small\">\n                {post.profileImageUrl ? (\n                  <img src={post.profileImageUrl} alt=\"img\" />\n                ) : (\n                  <img src={profile} alt=\"defaultImage\" />\n                )}\n              </div>\n              <p className=\"after:content=[''] list-line onlyMini: relative shrink-0 pl-5 pr-12 text-14 font-bold text-black-900 onlyMobile:text-12 onlyMini:after:hidden\">\n                {post.name}\n              </p>\n            </div>\n            <div className=\"flex onlyMini:hidden\">\n              <p className=\"list-gray-small flex items-center pr-12\">\n                <View width=\"16\" height=\"16\" className=\"mr-5\" />\n                <span className=\"mr-4 onlyMobile:hidden\">조회</span>\n                {post.views}\n              </p>\n              <p className=\"list-gray-small flex items-center\">\n                <PerpettOff width=\"16\" height=\"16\" className=\"mr-5\" />\n                <span className=\"mr-4 onlyMobile:hidden\">좋아요</span>{' '}\n                {post.likeCount}\n              </p>\n            </div>\n          </div>\n          <p className=\"flex items-center text-14 text-black-350 onlyMobile:text-12\">\n            {post.modified && (\n              <span className=\" mr-6 rounded-[4px] bg-black-025 px-4 py-2 text-10 text-black-350\">\n                수정\n              </span>\n            )}\n            {post.modifiedAt\n              ? dateCalculate(post.modifiedAt)\n              : dateCalculate(post.createdAt)}\n          </p>\n        </div>\n      </div>\n    </li>\n  );\n}\nexport default ListCommunity;\n"],"mappings":"4HAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,GAAG,KAAM,sBAAsB,CACtC,MAAO,CAAAC,aAAa,KAAM,kBAAkB,CAC5C,OAASC,cAAc,GAAI,CAAAC,IAAI,KAAQ,uBAAuB,CAC9D,OAASD,cAAc,GAAI,CAAAE,UAAU,KAAQ,8BAA8B,CAC3E,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAC9C,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,CAC5B,GAAQ,CAAAC,IAAI,CAAyBD,KAAK,CAAlCC,IAAI,CAAEC,OAAO,CAAgBF,KAAK,CAA5BE,OAAO,CAAEC,SAAS,CAAKH,KAAK,CAAnBG,SAAS,CAChC,IAAAC,SAAA,CAA8BrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAevB,SAAS,CAAC,CAAC,CAAlBwB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAEV;AACA,GAAM,CAAAC,SAAS,CAAGV,IAAI,CAACM,OAAO,CAC9B,GAAM,CAAAK,KAAK,CAAG,oBAAoB,CAClC,GAAM,CAAAC,OAAO,CAAGF,SAAS,CAACG,KAAK,CAACF,KAAK,CAAC,CACtC,GAAM,CAAAG,SAAS,CAAGF,OAAO,CAAGA,OAAO,CAAC,CAAC,CAAC,CAAG,IAAI,CAE7C7B,SAAS,CAAC,UAAM,CACd;AACA,GAAM,CAAA4B,KAAK,CAAG,iBAAiB,CAC/B,GAAM,CAAAC,OAAO,CAAGZ,IAAI,CAACM,OAAO,CAACO,KAAK,CAACF,KAAK,CAAC,CACzC,GAAI,CAAAI,aAAa,CAAG,EAAE,CAEtB,GAAIH,OAAO,CAAE,CACXG,aAAa,CAAGH,OAAO,CACpBI,GAAG,CAAC,SAAAH,KAAK,CAAI,CACZ,GAAM,CAAAI,IAAI,CAAGJ,KAAK,CAACK,OAAO,CAAC,SAAS,CAAE,EAAE,CAAC,CACzC,GAAM,CAAAC,cAAc,CAAGF,IAAI,CAACC,OAAO,CAAC,UAAU,CAAE,EAAE,CAAC,CACnD,MAAO,CAAAC,cAAc,CAACC,IAAI,CAAC,CAAC,CAC9B,CAAC,CAAC,CACDC,IAAI,CAAC,GAAG,CAAC,CACd,CAEAd,UAAU,CAACQ,aAAa,CAAC,CAC3B,CAAC,CAAE,CAACR,UAAU,CAAEP,IAAI,CAACM,OAAO,CAAC,CAAC,CAE9B,mBACET,KAAA,OAAIK,SAAS,CAAC,0BAA0B,CAAAoB,QAAA,eACtC3B,IAAA,QAAKO,SAAS,CAAC,6GAA6G,CAAAoB,QAAA,CACzHR,SAAS,cACRnB,IAAA,QAAK4B,GAAG,CAAET,SAAU,CAACU,GAAG,CAAC,KAAK,CAAE,CAAC,cAEjC7B,IAAA,QAAK4B,GAAG,CAAE9B,SAAU,CAAC+B,GAAG,CAAC,oDAAY,CAAE,CACxC,CACE,CAAC,cACN3B,KAAA,QAAKK,SAAS,CAAC,wGAAwG,CAAAoB,QAAA,eACrHzB,KAAA,CAACb,IAAI,EAACyC,EAAE,eAAAC,MAAA,CAAgBjB,EAAE,WAAAiB,MAAA,CAAS1B,IAAI,CAAC2B,MAAM,CAAG,CAACzB,SAAS,CAAC,OAAO,CAAAoB,QAAA,eACjE3B,IAAA,MAAGO,SAAS,CAAC,qBAAqB,CAAAoB,QAAA,CAAEtB,IAAI,CAAC4B,KAAK,CAAI,CAAC,CAClD1C,MAAM,mFAAAwC,MAAA,CAEHpB,OAAO,CAACY,OAAO,CAAC,eAAe,CAAE,EAAE,CAAC,gCAEvC,CAAC,EACE,CAAC,cACPrB,KAAA,QAAKK,SAAS,CAAC,uDAAuD,CAAAoB,QAAA,eACpEzB,KAAA,QAAKK,SAAS,CAAC,sCAAsC,CAAAoB,QAAA,eACnDzB,KAAA,QAAKK,SAAS,CAAEA,SAAU,CAAAoB,QAAA,eACxB3B,IAAA,QAAKO,SAAS,CAAC,oBAAoB,CAAAoB,QAAA,CAChCtB,IAAI,CAAC6B,eAAe,cACnBlC,IAAA,QAAK4B,GAAG,CAAEvB,IAAI,CAAC6B,eAAgB,CAACL,GAAG,CAAC,KAAK,CAAE,CAAC,cAE5C7B,IAAA,QAAK4B,GAAG,CAAE/B,OAAQ,CAACgC,GAAG,CAAC,cAAc,CAAE,CACxC,CACE,CAAC,cACN7B,IAAA,MAAGO,SAAS,CAAC,+IAA+I,CAAAoB,QAAA,CACzJtB,IAAI,CAAC8B,IAAI,CACT,CAAC,EACD,CAAC,cACNjC,KAAA,QAAKK,SAAS,CAAC,sBAAsB,CAAAoB,QAAA,eACnCzB,KAAA,MAAGK,SAAS,CAAC,yCAAyC,CAAAoB,QAAA,eACpD3B,IAAA,CAACL,IAAI,EAACyC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAAC9B,SAAS,CAAC,MAAM,CAAE,CAAC,cAChDP,IAAA,SAAMO,SAAS,CAAC,wBAAwB,CAAAoB,QAAA,CAAC,cAAE,CAAM,CAAC,CACjDtB,IAAI,CAACiC,KAAK,EACV,CAAC,cACJpC,KAAA,MAAGK,SAAS,CAAC,mCAAmC,CAAAoB,QAAA,eAC9C3B,IAAA,CAACJ,UAAU,EAACwC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAAC9B,SAAS,CAAC,MAAM,CAAE,CAAC,cACtDP,IAAA,SAAMO,SAAS,CAAC,wBAAwB,CAAAoB,QAAA,CAAC,oBAAG,CAAM,CAAC,CAAC,GAAG,CACtDtB,IAAI,CAACkC,SAAS,EACd,CAAC,EACD,CAAC,EACH,CAAC,cACNrC,KAAA,MAAGK,SAAS,CAAC,6DAA6D,CAAAoB,QAAA,EACvEtB,IAAI,CAACmC,QAAQ,eACZxC,IAAA,SAAMO,SAAS,CAAC,mEAAmE,CAAAoB,QAAA,CAAC,cAEpF,CAAM,CACP,CACAtB,IAAI,CAACoC,UAAU,CACZhD,aAAa,CAACY,IAAI,CAACoC,UAAU,CAAC,CAC9BhD,aAAa,CAACY,IAAI,CAACqC,SAAS,CAAC,EAChC,CAAC,EACD,CAAC,EACH,CAAC,GAvDsCrC,IAAI,CAAC2B,MAwD/C,CAAC,CAET,CACA,cAAe,CAAA7B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}