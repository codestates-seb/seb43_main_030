{"ast":null,"code":"var _jsxFileName = \"/Users/jieun/Desktop/main-project/idle/src/utils/quillEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useCallback, memo, useRef, useState } from 'react';\nimport axios from 'axios';\nimport ReactQuill, { Quill } from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuillEditor = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n  let {\n    content,\n    setContent,\n    contents,\n    setContents,\n    postId,\n    setImg\n  } = _ref;\n  const quillRef = useRef(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const imageHandler = useCallback(() => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*');\n    input.click();\n    input.onchange = async () => {\n      const file = input.files[0];\n      // setImg(prevImg => [...prevImg, file]);\n\n      const uploadData = new FormData();\n      uploadData.append('image', file);\n      try {\n        const response = await axios.post('https://api.imgbb.com/1/upload', uploadData, {\n          params: {\n            key: '8cb7f3bf3855c3503ff3954bf87159bf'\n          }\n        });\n        const imageUrl = response.data.data.url;\n        const quill = quillRef.current.getEditor();\n        const range = quill.getSelection(true);\n        quill.insertEmbed(range.index, 'image', imageUrl);\n        quill.setSelection(range.index + 1);\n      } catch (error) {\n        console.error('Error uploading image:', error);\n      }\n    };\n  }, []);\n  const modules = useMemo(() => ({\n    toolbar: {\n      container: [['bold', 'italic', 'underline', 'strike', 'blockquote'], [{\n        size: ['small', false, 'large', 'huge']\n      }, {\n        color: []\n      }], [{\n        list: 'ordered'\n      }, {\n        list: 'bullet'\n      }, {\n        indent: '-1'\n      }, {\n        indent: '+1'\n      }, {\n        align: []\n      }], ['image']],\n      handlers: {\n        image: imageHandler\n      }\n    }\n  }), [imageHandler]);\n  return /*#__PURE__*/_jsxDEV(ReactQuill, {\n    style: {\n      height: '400px'\n    },\n    ref: quillRef,\n    value: postId ? contents : content,\n    onChange: postId ? setContents : setContent,\n    modules: modules,\n    theme: \"snow\",\n    placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 7\n  }, this);\n}, \"mVdmNKz1dhcs98Td6ipC4mlHPD0=\")), \"mVdmNKz1dhcs98Td6ipC4mlHPD0=\");\n_c2 = QuillEditor;\nexport default QuillEditor;\nvar _c, _c2;\n$RefreshReg$(_c, \"QuillEditor$memo\");\n$RefreshReg$(_c2, \"QuillEditor\");","map":{"version":3,"names":["React","useMemo","useCallback","memo","useRef","useState","axios","ReactQuill","Quill","jsxDEV","_jsxDEV","QuillEditor","_s","_c","_ref","content","setContent","contents","setContents","postId","setImg","quillRef","previewImage","setPreviewImage","imageHandler","input","document","createElement","setAttribute","click","onchange","file","files","uploadData","FormData","append","response","post","params","key","imageUrl","data","url","quill","current","getEditor","range","getSelection","insertEmbed","index","setSelection","error","console","modules","toolbar","container","size","color","list","indent","align","handlers","image","style","height","ref","value","onChange","theme","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/Users/jieun/Desktop/main-project/idle/src/utils/quillEditor.js"],"sourcesContent":["import React, { useMemo, useCallback, memo, useRef, useState } from 'react';\nimport axios from 'axios';\nimport ReactQuill, { Quill } from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nconst QuillEditor = memo(\n  ({ content, setContent, contents, setContents, postId, setImg }) => {\n    const quillRef = useRef(null);\n    const [previewImage, setPreviewImage] = useState(null);\n\n    const imageHandler = useCallback(() => {\n      const input = document.createElement('input');\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', 'image/*');\n      input.click();\n\n      input.onchange = async () => {\n        const file = input.files[0];\n        // setImg(prevImg => [...prevImg, file]);\n\n        const uploadData = new FormData();\n        uploadData.append('image', file);\n\n        try {\n          const response = await axios.post(\n            'https://api.imgbb.com/1/upload',\n            uploadData,\n            {\n              params: {\n                key: '8cb7f3bf3855c3503ff3954bf87159bf',\n              },\n            },\n          );\n\n          const imageUrl = response.data.data.url;\n\n          const quill = quillRef.current.getEditor();\n          const range = quill.getSelection(true);\n\n          quill.insertEmbed(range.index, 'image', imageUrl);\n          quill.setSelection(range.index + 1);\n        } catch (error) {\n          console.error('Error uploading image:', error);\n        }\n      };\n    }, []);\n\n    const modules = useMemo(\n      () => ({\n        toolbar: {\n          container: [\n            ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n            [{ size: ['small', false, 'large', 'huge'] }, { color: [] }],\n            [\n              { list: 'ordered' },\n              { list: 'bullet' },\n              { indent: '-1' },\n              { indent: '+1' },\n              { align: [] },\n            ],\n            ['image'],\n          ],\n          handlers: {\n            image: imageHandler,\n          },\n        },\n      }),\n      [imageHandler],\n    );\n\n    return (\n      <ReactQuill\n        style={{ height: '400px' }}\n        ref={quillRef}\n        value={postId ? contents : content}\n        onChange={postId ? setContents : setContent}\n        modules={modules}\n        theme=\"snow\"\n        placeholder=\"내용을 입력해주세요.\"\n      />\n    );\n  },\n);\n\nexport default QuillEditor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}