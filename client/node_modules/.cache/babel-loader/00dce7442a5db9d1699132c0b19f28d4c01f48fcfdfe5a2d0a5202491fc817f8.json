{"ast":null,"code":"import axios from'axios';import{useSelector,useDispatch}from'react-redux';import{useEffect}from'react';import Button from'../components/Button/Button';import{setUser}from'../actions/areaFilterActions';import Profile from'../images/profile.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RenderProfile(_ref){var clickedProfile=_ref.clickedProfile,handleDelete=_ref.handleDelete;var dispatch=useDispatch();var user=useSelector(function(state){return state.user;});var activeIndex=useSelector(function(state){return state.activeIndex;});useEffect(function(){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/users/profile\"),{headers:{Authorization:localStorage.getItem('token')}}).then(function(res){console.log(res);dispatch(setUser(res.data));});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var renderProfile=function renderProfile(){return user.map(function(profile){var activeClass=profile.profileId===activeIndex?'font-bold':'';var shouldDisplayButton=profile.profileId!==activeIndex;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile flex items-center justify-start\".concat(profile.profileId,\" cursor-pointer px-8 py-12 text-14 \").concat(activeClass,\" w-full rounded-lg hover:bg-black-025\"),onClick:function onClick(e){clickedProfile(profile.profileId);},role:\"presentation\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full\",children:[profile.profileId===activeIndex&&/*#__PURE__*/_jsx(\"div\",{className:\"user-profile mr-10 inline-block h-24 w-24 rounded-md\",children:/*#__PURE__*/_jsx(\"img\",{src:profile.imageUrl||Profile,alt:\"profileimage\"})}),profile.name]})}),shouldDisplayButton&&user.length>1&&/*#__PURE__*/_jsx(Button,{className:\"btn-text-default w-40 text-red-400 onlyMobile:text-12\",onClick:function onClick(){return handleDelete(profile.profileId);},children:\"\\uC0AD\\uC81C\"})]},profile.profileId);});};return/*#__PURE__*/_jsx(_Fragment,{children:renderProfile()});}export default RenderProfile;","map":{"version":3,"names":["axios","useSelector","useDispatch","useEffect","Button","setUser","Profile","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RenderProfile","_ref","clickedProfile","handleDelete","dispatch","user","state","activeIndex","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","localStorage","getItem","then","res","console","log","data","renderProfile","map","profile","activeClass","profileId","shouldDisplayButton","className","children","onClick","e","role","src","imageUrl","alt","name","length"],"sources":["/Users/jieun/Desktop/main-project/idle/src/utils/dropdown.js"],"sourcesContent":["import axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport Button from '../components/Button/Button';\nimport { setUser } from '../actions/areaFilterActions';\n\nimport Profile from '../images/profile.png';\n\nfunction RenderProfile({ clickedProfile, handleDelete }) {\n  const dispatch = useDispatch();\n\n  const user = useSelector(state => state.user);\n  const activeIndex = useSelector(state => state.activeIndex);\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/users/profile`, {\n        headers: {\n          Authorization: localStorage.getItem('token'),\n        },\n      })\n      .then(res => {\n        console.log(res);\n        dispatch(setUser(res.data));\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderProfile = () => {\n    return user.map(profile => {\n      const activeClass = profile.profileId === activeIndex ? 'font-bold' : '';\n      const shouldDisplayButton = profile.profileId !== activeIndex;\n\n      return (\n        <li className=\"flex w-full\" key={profile.profileId}>\n          <div\n            className={`profile flex items-center justify-start${profile.profileId} cursor-pointer px-8 py-12 text-14 ${activeClass} w-full rounded-lg hover:bg-black-025`}\n            onClick={e => {\n              clickedProfile(profile.profileId);\n            }}\n            role=\"presentation\"\n          >\n            <div className=\"flex w-full\">\n              {profile.profileId === activeIndex && (\n                <div className=\"user-profile mr-10 inline-block h-24 w-24 rounded-md\">\n                  <img src={profile.imageUrl || Profile} alt=\"profileimage\" />\n                </div>\n              )}\n              {profile.name}\n            </div>\n          </div>\n          {shouldDisplayButton && user.length > 1 && (\n            <Button\n              className=\"btn-text-default w-40 text-red-400 onlyMobile:text-12\"\n              onClick={() => handleDelete(profile.profileId)}\n            >\n              삭제\n            </Button>\n          )}\n        </li>\n      );\n    });\n  };\n\n  return <>{renderProfile()}</>;\n}\n\nexport default RenderProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}