{"ast":null,"code":"import _slicedToArray from\"/Users/jieun/Desktop/main-project/idle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import axios from'axios';import RatingStar from'../RatingStar';import Button from'../Button/Button';import dateCalculate from'../dateCalculate';import ConfirmReview from'./ConfirmReview';import{ReactComponent as StarOn}from'../../images/star-on.svg';import{ReactComponent as StarOff}from'../../images/star-off.svg';import imageNull from'../../images/imageNull.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListReview(_ref){var post=_ref.post,className=_ref.className;// post.ratedReview 따라서 별 보이기\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),reviewModal=_useState2[0],setReviewModal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),kinderInfo=_useState4[0],setKinderInfo=_useState4[1];var apiUrl=process.env.REACT_APP_API_URL;var onReviewModal=function onReviewModal(){setReviewModal(true);axios.get(\"\".concat(apiUrl,\"/api/review/\").concat(post.reviewId)).then(function(response){setKinderInfo(response.data.data);}).catch(function(error){console.log(error);});};var offReviewModal=function offReviewModal(){setReviewModal(false);};var starScore=function starScore(){var ratedStar=Math.floor(post.ratedReview);var ratingStar=[];for(var i=1;i<=5;i+=1){if(i<=ratedStar){ratingStar.push(/*#__PURE__*/_jsx(StarOn,{},i));}else{ratingStar.push(/*#__PURE__*/_jsx(StarOff,{},i));}}return ratingStar.map(function(star){return star;});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-flex w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:className,children:/*#__PURE__*/_jsx(\"div\",{className:\"user-profile mr-16 h-40 w-40\",children:/*#__PURE__*/_jsx(\"img\",{src:post.profileImageUrl,alt:\"profileImage\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:className,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mr-4 text-16 font-bold onlyMobile:text-14\",children:post.profileName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-14 text-black-350 onlyMobile:text-12\",children:post.email})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:starScore()}),/*#__PURE__*/_jsx(\"p\",{className:\"list-gray-small\",children:dateCalculate(post.createdAt)})]})]})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"list-content h-text-max mt-16 max-h-[50px] onlyMobile:max-h-[40px] onlyMobile:min-w-180\",children:post.content}),/*#__PURE__*/_jsx(Button,{className:\"btn-text-default py-4 text-left text-14 font-bold text-black-900\",onClick:onReviewModal,children:\"\\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-profile ml-24 h-108 w-108 onlyMobile:h-96 onlyMobile:w-96 onlyMini:h-56 onlyMini:w-56\",children:post.reviewImageUrl===null?/*#__PURE__*/_jsx(\"img\",{src:imageNull,alt:\"\\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):/*#__PURE__*/_jsx(\"img\",{src:post.reviewImageUrl,alt:\"\\uB9AC\\uBDF0\\uC774\\uBBF8\\uC9C0\"})}),reviewModal?/*#__PURE__*/_jsx(ConfirmReview,{offReviewModal:offReviewModal,name:post.profileName,kinderInfo:kinderInfo,kindergartenName:post.kindergartenName,kindergartenLocations:post.kindergartenLocations,kindergartenImageUrl:post.kindergartenImageUrl,kindergartenRatedReviewsAvg:post.kindergartenRatedReviewsAvg// kindergartenRatedReviewsCount={post.kindergartenRatedReviewsCount}\n}):null]})})});}export default ListReview;","map":{"version":3,"names":["useState","axios","RatingStar","Button","dateCalculate","ConfirmReview","ReactComponent","StarOn","StarOff","imageNull","jsx","_jsx","jsxs","_jsxs","ListReview","_ref","post","className","_useState","_useState2","_slicedToArray","reviewModal","setReviewModal","_useState3","_useState4","kinderInfo","setKinderInfo","apiUrl","process","env","REACT_APP_API_URL","onReviewModal","get","concat","reviewId","then","response","data","catch","error","console","log","offReviewModal","starScore","ratedStar","Math","floor","ratedReview","ratingStar","i","push","map","star","children","src","profileImageUrl","alt","profileName","email","createdAt","content","onClick","reviewImageUrl","name","kindergartenName","kindergartenLocations","kindergartenImageUrl","kindergartenRatedReviewsAvg"],"sources":["/Users/jieun/Desktop/main-project/idle/src/components/List/ListReview.jsx"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport RatingStar from '../RatingStar';\nimport Button from '../Button/Button';\nimport dateCalculate from '../dateCalculate';\nimport ConfirmReview from './ConfirmReview';\nimport { ReactComponent as StarOn } from '../../images/star-on.svg';\nimport { ReactComponent as StarOff } from '../../images/star-off.svg';\nimport imageNull from '../../images/imageNull.png';\n\nfunction ListReview({ post, className }) {\n  // post.ratedReview 따라서 별 보이기\n  const [reviewModal, setReviewModal] = useState(false);\n  const [kinderInfo, setKinderInfo] = useState([]);\n  const apiUrl = process.env.REACT_APP_API_URL;\n\n  const onReviewModal = () => {\n    setReviewModal(true);\n    axios\n      .get(`${apiUrl}/api/review/${post.reviewId}`)\n      .then(response => {\n        setKinderInfo(response.data.data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  const offReviewModal = () => {\n    setReviewModal(false);\n  };\n\n  const starScore = () => {\n    const ratedStar = Math.floor(post.ratedReview);\n    const ratingStar = [];\n\n    for (let i = 1; i <= 5; i += 1) {\n      if (i <= ratedStar) {\n        ratingStar.push(<StarOn key={i} />);\n      } else {\n        ratingStar.push(<StarOff key={i} />);\n      }\n    }\n    return ratingStar.map(star => star);\n  };\n\n  return (\n    <div>\n      <ul>\n        <li className=\"list-flex w-full\">\n          <div className=\"w-full\">\n            <div className=\"flex w-full items-center justify-between\">\n              <div className=\"flex w-full\">\n                <div className={className}>\n                  <div className=\"user-profile mr-16 h-40 w-40\">\n                    <img src={post.profileImageUrl} alt=\"profileImage\" />\n                  </div>\n                </div>\n                <div className=\"flex w-full flex-col\">\n                  <div className={className}>\n                    <div className=\"mb-4 flex\">\n                      {/* <div className=\"mb-4 grid w-full grid-cols-[auto-fit_minmax(200px,_1fr)]\"> */}\n                      {/* grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); */}\n                      <p className=\"mr-4 text-16 font-bold onlyMobile:text-14\">\n                        {post.profileName}\n                      </p>\n                      <p className=\"text-14 text-black-350 onlyMobile:text-12\">\n                        {post.email}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex w-full items-center justify-between\">\n                    <div className=\"flex\">{starScore()}</div>\n                    <p className=\"list-gray-small\">\n                      {dateCalculate(post.createdAt)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <p className=\"list-content h-text-max mt-16 max-h-[50px] onlyMobile:max-h-[40px] onlyMobile:min-w-180\">\n              {post.content}\n            </p>\n            <Button\n              className=\"btn-text-default py-4 text-left text-14 font-bold text-black-900\"\n              onClick={onReviewModal}\n            >\n              자세히 보기\n            </Button>\n          </div>\n          <div className=\"user-profile ml-24 h-108 w-108 onlyMobile:h-96 onlyMobile:w-96 onlyMini:h-56 onlyMini:w-56\">\n            {post.reviewImageUrl === null ? (\n              <img src={imageNull} alt=\"이미지가 없습니다.\" />\n            ) : (\n              <img src={post.reviewImageUrl} alt=\"리뷰이미지\" />\n            )}\n          </div>\n          {reviewModal ? (\n            <ConfirmReview\n              offReviewModal={offReviewModal}\n              name={post.profileName}\n              kinderInfo={kinderInfo}\n              kindergartenName={post.kindergartenName}\n              kindergartenLocations={post.kindergartenLocations}\n              kindergartenImageUrl={post.kindergartenImageUrl}\n              kindergartenRatedReviewsAvg={post.kindergartenRatedReviewsAvg}\n              // kindergartenRatedReviewsCount={post.kindergartenRatedReviewsCount}\n            />\n          ) : null}\n        </li>\n      </ul>\n    </div>\n  );\n}\nexport default ListReview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}