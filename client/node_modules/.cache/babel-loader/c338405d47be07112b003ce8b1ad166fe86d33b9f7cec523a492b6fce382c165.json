{"ast":null,"code":"import _slicedToArray from\"/Users/jieun/Desktop/main-project/idle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import axios from'axios';import{useDispatch,useSelector}from'react-redux';import{ReactComponent as Search}from'../images/search.svg';import{setAreaFilter,setKinderGartens,setInputValue,setSearchValue,setCommInputValue,setTempCommInputValue,setSearchClickState}from'../actions/areaFilterActions';import cls from'../utils/tailwind';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InputBtn(props){var placeholder=props.placeholder,className=props.className,setPostList=props.setPostList,pageState=props.pageState,commUrl=props.commUrl;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),focus=_useState2[0],setFocus=_useState2[1];var _useState3=useState(pageState),_useState4=_slicedToArray(_useState3,2),pageValue=_useState4[0],setPageValue=_useState4[1];var dispatch=useDispatch();var inputValue=useSelector(function(state){return state.inputValue;});var commInputValue=useSelector(function(state){return state.commInputValue;});var tempCommInputValue=useSelector(function(state){return state.tempCommInputValue;});function changeInput(e){if(pageValue==='community'){dispatch(setTempCommInputValue(e.target.value));}else{dispatch(setInputValue(e.target.value));}}function searchInput(){if(pageValue==='community'){var url=\"\".concat(commUrl,\"&keyword=\").concat(commInputValue);if(tempCommInputValue){dispatch(setSearchClickState(true));}else{dispatch(setSearchClickState(false));}axios.get(url).then(function(response){dispatch(setCommInputValue(tempCommInputValue));setPostList(response.data.data);}).catch(function(error){console.log(error);});}else{var _url=\"\".concat(process.env.REACT_APP_API_URL,\"/api/kindergarten/name/\").concat(inputValue);axios.get(_url).then(function(response){dispatch(setKinderGartens(response.data));dispatch(setSearchValue(inputValue));dispatch(setInputValue(''));dispatch(setAreaFilter(0));}).catch(function(error){console.log(error);});}}function handleKeyPress(e){if(e.key==='Enter'){searchInput();}}return/*#__PURE__*/_jsx(\"div\",{className:cls(className),children:/*#__PURE__*/_jsxs(\"div\",{className:focus?'search-input-outline border-black-070':'search-input-outline border-yellow-500',children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input w-full\",placeholder:placeholder,onFocus:function onFocus(){return setFocus(false);},onBlur:function onBlur(){return setFocus(true);},onChange:function onChange(e){return changeInput(e);},value:pageValue==='community'?tempCommInputValue:inputValue,onKeyPress:handleKeyPress}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"search-input-btn\",onFocus:function onFocus(){return setFocus(false);},onBlur:function onBlur(){return setFocus(true);},children:/*#__PURE__*/_jsx(Search,{onClick:function onClick(){return searchInput();}})})]})});}export default InputBtn;","map":{"version":3,"names":["useState","axios","useDispatch","useSelector","ReactComponent","Search","setAreaFilter","setKinderGartens","setInputValue","setSearchValue","setCommInputValue","setTempCommInputValue","setSearchClickState","cls","jsx","_jsx","jsxs","_jsxs","InputBtn","props","placeholder","className","setPostList","pageState","commUrl","_useState","_useState2","_slicedToArray","focus","setFocus","_useState3","_useState4","pageValue","setPageValue","dispatch","inputValue","state","commInputValue","tempCommInputValue","changeInput","e","target","value","searchInput","url","concat","get","then","response","data","catch","error","console","log","process","env","REACT_APP_API_URL","handleKeyPress","key","children","type","onFocus","onBlur","onChange","onKeyPress","onClick"],"sources":["/Users/jieun/Desktop/main-project/idle/src/components/InputBtn.jsx"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ReactComponent as Search } from '../images/search.svg';\nimport {\n  setAreaFilter,\n  setKinderGartens,\n  setInputValue,\n  setSearchValue,\n  setCommInputValue,\n  setTempCommInputValue,\n  setSearchClickState,\n} from '../actions/areaFilterActions';\nimport cls from '../utils/tailwind';\n\nfunction InputBtn(props) {\n  const { placeholder, className, setPostList, pageState, commUrl } = props;\n  const [focus, setFocus] = useState(true);\n  const [pageValue, setPageValue] = useState(pageState);\n  const dispatch = useDispatch();\n  const inputValue = useSelector(state => state.inputValue);\n  const commInputValue = useSelector(state => state.commInputValue);\n  const tempCommInputValue = useSelector(state => state.tempCommInputValue);\n\n  function changeInput(e) {\n    if (pageValue === 'community') {\n      dispatch(setTempCommInputValue(e.target.value));\n    } else {\n      dispatch(setInputValue(e.target.value));\n    }\n  }\n\n  function searchInput() {\n    if (pageValue === 'community') {\n      const url = `${commUrl}&keyword=${commInputValue}`;\n      if (tempCommInputValue) {\n        dispatch(setSearchClickState(true));\n      } else {\n        dispatch(setSearchClickState(false));\n      }\n      axios\n        .get(url)\n        .then(response => {\n          dispatch(setCommInputValue(tempCommInputValue));\n          setPostList(response.data.data);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    } else {\n      const url = `${process.env.REACT_APP_API_URL}/api/kindergarten/name/${inputValue}`;\n      axios\n        .get(url)\n        .then(response => {\n          dispatch(setKinderGartens(response.data));\n          dispatch(setSearchValue(inputValue));\n          dispatch(setInputValue(''));\n          dispatch(setAreaFilter(0));\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }\n\n  function handleKeyPress(e) {\n    if (e.key === 'Enter') {\n      searchInput();\n    }\n  }\n\n  return (\n    <div className={cls(className)}>\n      <div\n        className={\n          focus\n            ? 'search-input-outline border-black-070'\n            : 'search-input-outline border-yellow-500'\n        }\n      >\n        <input\n          type=\"text\"\n          className=\"search-input w-full\"\n          placeholder={placeholder}\n          onFocus={() => setFocus(false)}\n          onBlur={() => setFocus(true)}\n          onChange={e => changeInput(e)}\n          value={pageValue === 'community' ? tempCommInputValue : inputValue}\n          onKeyPress={handleKeyPress}\n        />\n        <button\n          type=\"button\"\n          className=\"search-input-btn\"\n          onFocus={() => setFocus(false)}\n          onBlur={() => setFocus(true)}\n        >\n          <Search onClick={() => searchInput()} />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default InputBtn;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}