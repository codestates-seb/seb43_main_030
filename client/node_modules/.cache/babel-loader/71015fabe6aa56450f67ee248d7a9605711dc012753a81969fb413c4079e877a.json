{"ast":null,"code":"var _jsxFileName = \"/Users/jieun/Desktop/main-project/idle/src/components/DropDownMenu.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCurUser, setCurProfile, setAuth, setActiveIndex, setUser } from '../actions/areaFilterActions';\nimport Profile from '../images/profile.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DropDownMenu(_ref) {\n  _s();\n  let {\n    setDropDown\n  } = _ref;\n  const user = useSelector(state => state.user);\n  const curUser = useSelector(state => state.curUser);\n  const activeIndex = useSelector(state => state.activeIndex);\n  // const [selectProfile, setSelectProfile] = useState(curUser);\n\n  const dispatch = useDispatch();\n  const handleLogout = () => {\n    dispatch(setAuth(false));\n    localStorage.removeItem('token');\n    dispatch(setCurUser({}));\n    dispatch(setUser([]));\n    dispatch(setCurProfile({}));\n    dispatch(setActiveIndex(''));\n  };\n  function clickedProfile(idx, id) {\n    dispatch(setCurUser(user[idx]));\n    dispatch(setCurProfile(user[idx]));\n    axios.get(`${process.env.REACT_APP_API_URL}/api/users/profile/${id}`, {\n      headers: {\n        Authorization: localStorage.getItem('token')\n      }\n    }).then(res => {\n      dispatch(setCurProfile(res.data.data));\n      setDropDown(false);\n      dispatch(setActiveIndex(idx));\n    });\n    axios.get(`${process.env.REACT_APP_API_URL}/api/users/profile/${id}`, {\n      headers: {\n        Authorization: localStorage.getItem('token')\n      }\n    }).then(res => {\n      dispatch(setCurProfile(res.data.data));\n      setDropDown(false);\n      dispatch(setActiveIndex(idx));\n    });\n  }\n  function profileActive(e) {\n    const classList = e.target.className.split(' ');\n    const indexClass = classList.find(className => className.startsWith('profile'));\n    if (indexClass) {\n      const index = parseInt(indexClass.slice(-1), 10);\n      dispatch(setActiveIndex(index));\n    }\n  }\n  const RenderProfile = () => {\n    return user.map((profile, idx) => {\n      const activeClass = Number(activeIndex) === idx ? 'font-bold' : '';\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `profile flex items-center justify-start${idx} cursor-pointer px-8 py-12 text-14 ${activeClass} rounded-lg hover:bg-black-025`,\n        onClick: e => {\n          profileActive(e);\n          clickedProfile(idx, profile.profileId);\n        },\n        role: \"presentation\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full justify-between\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [Number(activeIndex) === idx && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-profile mr-10 inline-block h-24 w-24 rounded-md\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: profile.imageUrl || Profile,\n                alt: \"profileimage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), profile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, profile.profileId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute left-0 top-[64px] z-10 flex w-226 flex-col items-start justify-center rounded-[10px] bg-white px-12 py-16 shadow-dropDownShadow onlyMobile:w-[100%]\",\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"profile w-202 py-2 text-left onlyMobile:w-[100%]\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"px-8 pb-8 text-12 text-black-350\",\n        children: \"\\uD504\\uB85C\\uD544\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RenderProfile, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 h-1 border-b\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"w-202 text-left onlyMobile:w-[100%]\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/mypage/${curUser.profileId}`,\n        onClick: () => setDropDown(false),\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex cursor-pointer items-center justify-start rounded-md px-8 py-12 text-14 hover:bg-black-025\",\n          children: \"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          role: \"presentation\",\n          className: \"cursor-pointer items-center justify-start rounded-md px-8 py-12 text-14 hover:bg-black-025\",\n          onClick: () => handleLogout(),\n          children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n_s(DropDownMenu, \"un+MRYG8sClVD//ftFc6WJfwahI=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n_c = DropDownMenu;\nexport default DropDownMenu;\nvar _c;\n$RefreshReg$(_c, \"DropDownMenu\");","map":{"version":3,"names":["useState","axios","Link","useSelector","useDispatch","setCurUser","setCurProfile","setAuth","setActiveIndex","setUser","Profile","jsxDEV","_jsxDEV","DropDownMenu","_ref","_s","setDropDown","user","state","curUser","activeIndex","dispatch","handleLogout","localStorage","removeItem","clickedProfile","idx","id","get","process","env","REACT_APP_API_URL","headers","Authorization","getItem","then","res","data","profileActive","e","classList","target","className","split","indexClass","find","startsWith","index","parseInt","slice","RenderProfile","map","profile","activeClass","Number","onClick","profileId","role","children","src","imageUrl","alt","fileName","_jsxFileName","lineNumber","columnNumber","name","to","_c","$RefreshReg$"],"sources":["/Users/jieun/Desktop/main-project/idle/src/components/DropDownMenu.jsx"],"sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  setCurUser,\n  setCurProfile,\n  setAuth,\n  setActiveIndex,\n  setUser,\n} from '../actions/areaFilterActions';\nimport Profile from '../images/profile.png';\n\nfunction DropDownMenu({ setDropDown }) {\n  const user = useSelector(state => state.user);\n  const curUser = useSelector(state => state.curUser);\n  const activeIndex = useSelector(state => state.activeIndex);\n  // const [selectProfile, setSelectProfile] = useState(curUser);\n\n  const dispatch = useDispatch();\n\n  const handleLogout = () => {\n    dispatch(setAuth(false));\n    localStorage.removeItem('token');\n    dispatch(setCurUser({}));\n    dispatch(setUser([]));\n    dispatch(setCurProfile({}));\n    dispatch(setActiveIndex(''));\n  };\n\n  function clickedProfile(idx, id) {\n    dispatch(setCurUser(user[idx]));\n    dispatch(setCurProfile(user[idx]));\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/users/profile/${id}`, {\n        headers: {\n          Authorization: localStorage.getItem('token'),\n        },\n      })\n      .then(res => {\n        dispatch(setCurProfile(res.data.data));\n        setDropDown(false);\n        dispatch(setActiveIndex(idx));\n      });\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/users/profile/${id}`, {\n        headers: {\n          Authorization: localStorage.getItem('token'),\n        },\n      })\n      .then(res => {\n        dispatch(setCurProfile(res.data.data));\n        setDropDown(false);\n        dispatch(setActiveIndex(idx));\n      });\n  }\n\n  function profileActive(e) {\n    const classList = e.target.className.split(' ');\n    const indexClass = classList.find(className =>\n      className.startsWith('profile'),\n    );\n    if (indexClass) {\n      const index = parseInt(indexClass.slice(-1), 10);\n      dispatch(setActiveIndex(index));\n    }\n  }\n\n  const RenderProfile = () => {\n    return user.map((profile, idx) => {\n      const activeClass = Number(activeIndex) === idx ? 'font-bold' : '';\n\n      return (\n        <li\n          className={`profile flex items-center justify-start${idx} cursor-pointer px-8 py-12 text-14 ${activeClass} rounded-lg hover:bg-black-025`}\n          onClick={e => {\n            profileActive(e);\n            clickedProfile(idx, profile.profileId);\n          }}\n          role=\"presentation\"\n          key={profile.profileId}\n        >\n          <div className=\"flex w-full justify-between\">\n            <div className=\"flex\">\n              {Number(activeIndex) === idx && (\n                <div className=\"user-profile mr-10 inline-block h-24 w-24 rounded-md\">\n                  <img src={profile.imageUrl || Profile} alt=\"profileimage\" />\n                </div>\n              )}\n              {profile.name}\n            </div>\n          </div>\n        </li>\n      );\n    });\n  };\n\n  return (\n    <div className=\"absolute left-0 top-[64px] z-10 flex w-226 flex-col items-start justify-center rounded-[10px] bg-white px-12 py-16 shadow-dropDownShadow onlyMobile:w-[100%]\">\n      <ul className=\"profile w-202 py-2 text-left onlyMobile:w-[100%]\">\n        <li className=\"px-8 pb-8 text-12 text-black-350\">프로필</li>\n        <RenderProfile />\n        <div className=\"mt-2 h-1 border-b\" />\n      </ul>\n      <ul className=\"w-202 text-left onlyMobile:w-[100%]\">\n        <Link\n          to={`/mypage/${curUser.profileId}`}\n          onClick={() => setDropDown(false)}\n        >\n          <li className=\"flex cursor-pointer items-center justify-start rounded-md px-8 py-12 text-14 hover:bg-black-025\">\n            마이페이지\n          </li>\n        </Link>\n        <Link to=\"/\">\n          <li\n            role=\"presentation\"\n            className=\"cursor-pointer items-center justify-start rounded-md px-8 py-12 text-14 hover:bg-black-025\"\n            onClick={() => handleLogout()}\n          >\n            로그아웃\n          </li>\n        </Link>\n      </ul>\n    </div>\n  );\n}\n\nexport default DropDownMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}