{"ast":null,"code":"import _slicedToArray from\"/Users/jieun/Desktop/main-project/idle/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Link,useParams}from'react-router-dom';import Parser from'html-react-parser';import cls from'../../utils/tailwind';import dateCalculate from'../dateCalculate';import{ReactComponent as View}from'../../images/view.svg';import{ReactComponent as PerpettOff}from'../../images/perpett-off.svg';import profile from'../../images/profile.png';import imageNull from'../../images/imageNull.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListCommunity(props){var post=props.post,onClick=props.onClick,className=props.className;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useParams=useParams(),id=_useParams.id;// 썸네일용\nvar thumImage=post.content;var regex=/<img src=\"(.*?)\">/i;var matches=thumImage.match(regex);var thumbnail=matches?matches[1]:null;useEffect(function(){// 게시물 미리보기 텍스트\nvar regex=/<p>(.*?)<\\/p>/i;var match=post.content.match(regex);var extractedText='';if(match&&match[1]){extractedText=match[1].slice(0,40);}setContent(extractedText);},[setContent,post.content]);return/*#__PURE__*/_jsxs(\"li\",{className:\"flex w-full items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-profile mr-24 h-108 w-108 onlyMobile:mr-15 onlyMobile:h-96 onlyMobile:w-96 onlyMini:h-56 onlyMini:w-56\",children:thumbnail?/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:\"img\"}):/*#__PURE__*/_jsx(\"img\",{src:imageNull,alt:\"\\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nlyMini:my-20 isMobile:w-[100%-101px] my-30 w-[calc(100%-132px)]\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/community/\".concat(id,\"/post/\").concat(post.postId),className:\"block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"list-title truncate\",children:post.title}),Parser(\"\\n          <p className=\\\"list-content mt-5 truncate text-max\\\">\\n            \".concat(content.replace(/(<([^>]+)>)/gi,''),\"\\n          </p>\\n          \"))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16 flex items-center justify-between onlyMini:mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-between flex onlyMini:flex-col \",children:[/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-profile-small\",children:post.profileImageUrl?/*#__PURE__*/_jsx(\"img\",{src:post.profileImageUrl,alt:\"img\"}):/*#__PURE__*/_jsx(\"img\",{src:profile,alt:\"defaultImage\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"after:content=[''] list-line onlyMini: relative shrink-0 pl-5 pr-12 text-14 font-bold text-black-900 onlyMobile:text-12 onlyMini:after:hidden\",children:post.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex onlyMini:hidden\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"list-gray-small flex items-center pr-12\",children:[/*#__PURE__*/_jsx(View,{width:\"16\",height:\"16\",className:\"mr-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4 onlyMobile:hidden\",children:\"\\uC870\\uD68C\"}),post.views]}),/*#__PURE__*/_jsxs(\"p\",{className:\"list-gray-small flex items-center\",children:[/*#__PURE__*/_jsx(PerpettOff,{width:\"16\",height:\"16\",className:\"mr-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4 onlyMobile:hidden\",children:\"\\uC88B\\uC544\\uC694\"}),' ',post.likeCount]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center text-14 text-black-350 onlyMobile:text-12\",children:[post.modified&&/*#__PURE__*/_jsx(\"span\",{className:\" mr-6 rounded-[4px] bg-black-025 px-4 py-2 text-10 text-black-350\",children:\"\\uC218\\uC815\"}),post.modifiedAt?dateCalculate(post.modifiedAt):dateCalculate(post.createdAt)]})]})]})]},post.postId);}export default ListCommunity;","map":{"version":3,"names":["useState","useEffect","Link","useParams","Parser","cls","dateCalculate","ReactComponent","View","PerpettOff","profile","imageNull","jsx","_jsx","jsxs","_jsxs","ListCommunity","props","post","onClick","className","_useState","_useState2","_slicedToArray","content","setContent","_useParams","id","thumImage","regex","matches","match","thumbnail","extractedText","slice","children","src","alt","to","concat","postId","title","replace","profileImageUrl","name","width","height","views","likeCount","modified","modifiedAt","createdAt"],"sources":["/Users/jieun/Desktop/main-project/idle/src/components/List/ListCommunity.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport cls from '../../utils/tailwind';\nimport dateCalculate from '../dateCalculate';\nimport { ReactComponent as View } from '../../images/view.svg';\nimport { ReactComponent as PerpettOff } from '../../images/perpett-off.svg';\nimport profile from '../../images/profile.png';\nimport imageNull from '../../images/imageNull.png';\n\nfunction ListCommunity(props) {\n  const { post, onClick, className } = props;\n  const [content, setContent] = useState('');\n  const { id } = useParams();\n\n  // 썸네일용\n  const thumImage = post.content;\n  const regex = /<img src=\"(.*?)\">/i;\n  const matches = thumImage.match(regex);\n  const thumbnail = matches ? matches[1] : null;\n\n  useEffect(() => {\n    // 게시물 미리보기 텍스트\n    const regex = /<p>(.*?)<\\/p>/i;\n    const match = post.content.match(regex);\n    let extractedText = '';\n    if (match && match[1]) {\n      extractedText = match[1].slice(0, 40);\n    }\n    setContent(extractedText);\n  }, [setContent, post.content]);\n\n  return (\n    <li className=\"flex w-full items-center\" key={post.postId}>\n      <div className=\"user-profile mr-24 h-108 w-108 onlyMobile:mr-15 onlyMobile:h-96 onlyMobile:w-96 onlyMini:h-56 onlyMini:w-56\">\n        {thumbnail ? (\n          <img src={thumbnail} alt=\"img\" />\n        ) : (\n          <img src={imageNull} alt=\"이미지가 없습니다.\" />\n        )}\n        {/* {post.postImageUrl ? (\n          <img src={post.postImageUrl} alt=\"img\" />\n        ) : (\n          <img src={profile} alt=\"defaultImage\" />\n        )} */}\n      </div>\n      <div className=\"nlyMini:my-20 isMobile:w-[100%-101px] my-30 w-[calc(100%-132px)]\">\n        <Link to={`/community/${id}/post/${post.postId}`} className=\"block\">\n          <p className=\"list-title truncate\">{post.title}</p>\n          {Parser(`\n          <p className=\"list-content mt-5 truncate text-max\">\n            ${content.replace(/(<([^>]+)>)/gi, '')}\n          </p>\n          `)}\n        </Link>\n        <div className=\"mt-16 flex items-center justify-between onlyMini:mt-8\">\n          <div className=\"flex-between flex onlyMini:flex-col \">\n            <div className={className}>\n              <div className=\"user-profile-small\">\n                {post.profileImageUrl ? (\n                  <img src={post.profileImageUrl} alt=\"img\" />\n                ) : (\n                  <img src={profile} alt=\"defaultImage\" />\n                )}\n              </div>\n              <p className=\"after:content=[''] list-line onlyMini: relative shrink-0 pl-5 pr-12 text-14 font-bold text-black-900 onlyMobile:text-12 onlyMini:after:hidden\">\n                {post.name}\n              </p>\n            </div>\n            <div className=\"flex onlyMini:hidden\">\n              <p className=\"list-gray-small flex items-center pr-12\">\n                <View width=\"16\" height=\"16\" className=\"mr-5\" />\n                <span className=\"mr-4 onlyMobile:hidden\">조회</span>\n                {post.views}\n              </p>\n              <p className=\"list-gray-small flex items-center\">\n                <PerpettOff width=\"16\" height=\"16\" className=\"mr-5\" />\n                <span className=\"mr-4 onlyMobile:hidden\">좋아요</span>{' '}\n                {post.likeCount}\n              </p>\n            </div>\n          </div>\n          <p className=\"flex items-center text-14 text-black-350 onlyMobile:text-12\">\n            {post.modified && (\n              <span className=\" mr-6 rounded-[4px] bg-black-025 px-4 py-2 text-10 text-black-350\">\n                수정\n              </span>\n            )}\n            {post.modifiedAt\n              ? dateCalculate(post.modifiedAt)\n              : dateCalculate(post.createdAt)}\n          </p>\n        </div>\n      </div>\n    </li>\n  );\n}\nexport default ListCommunity;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}